
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>
	<link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="java">Java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#generic" class="toc-h1 toc-link" data-title="Generic">Generic</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-user-details" class="toc-h2 toc-link" data-title="Get User Details">Get User Details</a>
                  </li>
                  <li>
                    <a href="#upload-app" class="toc-h2 toc-link" data-title="Upload App">Upload App</a>
                  </li>
                  <li>
                    <a href="#get-available-apps" class="toc-h2 toc-link" data-title="Get Available Apps">Get Available Apps</a>
                  </li>
                  <li>
                    <a href="#download-file-from-cloud" class="toc-h2 toc-link" data-title="Download File From Cloud">Download File From Cloud</a>
                  </li>
                  <li>
                    <a href="#get-device-list" class="toc-h2 toc-link" data-title="Get Device List">Get Device List</a>
                  </li>
                  <li>
                    <a href="#book-device" class="toc-h2 toc-link" data-title="Book Device">Book Device</a>
                  </li>
                  <li>
                    <a href="#get-device-page-url" class="toc-h2 toc-link" data-title="Get Device Page URL">Get Device Page URL</a>
                  </li>
                  <li>
                    <a href="#install-and-launch-app" class="toc-h2 toc-link" data-title="Install and Launch app">Install and Launch app</a>
                  </li>
                  <li>
                    <a href="#execute-adb" class="toc-h2 toc-link" data-title="Execute ADB">Execute ADB</a>
                  </li>
                  <li>
                    <a href="#release-device" class="toc-h2 toc-link" data-title="Release Device">Release Device</a>
                  </li>
                  <li>
                    <a href="#push-file" class="toc-h2 toc-link" data-title="Push File">Push File</a>
                  </li>
                  <li>
                    <a href="#pull-file" class="toc-h2 toc-link" data-title="Pull File">Pull File</a>
                  </li>
                  <li>
                    <a href="#capture-device-screenshot" class="toc-h2 toc-link" data-title="Capture Device Screenshot">Capture Device Screenshot</a>
                  </li>
                  <li>
                    <a href="#start-performance-data" class="toc-h2 toc-link" data-title="Start Performance Data">Start Performance Data</a>
                  </li>
                  <li>
                    <a href="#download-performance-data" class="toc-h2 toc-link" data-title="Download Performance Data">Download Performance Data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#automation" class="toc-h1 toc-link" data-title="Automation">Automation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#book-devices-for-appium" class="toc-h2 toc-link" data-title="Book Devices For Appium">Book Devices For Appium</a>
                  </li>
                  <li>
                    <a href="#init-appiumhub-for-app" class="toc-h2 toc-link" data-title="Init AppiumHub for App">Init AppiumHub for App</a>
                  </li>
                  <li>
                    <a href="#get-appium-endpoint" class="toc-h2 toc-link" data-title="Get Appium EndPoint">Get Appium EndPoint</a>
                  </li>
                  <li>
                    <a href="#get-appium-report-folder" class="toc-h2 toc-link" data-title="Get Appium Report Folder">Get Appium Report Folder</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://device.pcloudy.com/signup' target="_blank">Sign Up for API Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>The pCloudy API is organized around REST. Our API has predictable, resource-oriented URLs, and uses HTTP response codes to indicate API errors. We use built-in HTTP features, like HTTP authentication and HTTP verbs, which are understood by off-the-shelf HTTP clients.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>URL format:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -u <span class="s2">"email:apiKey"</span> &lt;Cloud URL&gt;/api/access

Note: 
    &lt;Cloud URL&gt;: Use https://device.pcloudy.com or https://us.pcloudy.com or https://ph.pcloudy.com or https://aus.pcloudy.com <span class="k">in case</span> of public cloud otherwise use your custom cloud URL <span class="k">in case</span> of private or on premise cloud

Ex: curl -u <span class="s2">"test.user@pcloudy.com:3m4t8y47mmrz8zycmqbr3f"</span> https://device.pcloudy.com/api/access


Make sure to replace <span class="sb">`</span>test.user@pcloudy.com:3m4t8y47mmrz8zycmqbr3f<span class="sb">`</span> with your Email and API key.

</code></pre><pre class="highlight java tab-java"><code><span class="n">Connector</span> <span class="n">con</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Connector</span><span class="o">(</span><span class="s">"https://device.pcloudy.com"</span><span class="o">);</span>
<span class="n">String</span> <span class="n">authToken</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">authenticateUser</span><span class="o">(</span><span class="n">emailid</span><span class="o">,</span> <span class="n">apiKey</span><span class="o">);</span>
</code></pre>
<p>Authenticate your account when using the API by including your email-Id and secret API key(access Key) in the request. You can manage your API keys in the Account settings. Your API keys carry many privileges, so be sure to keep them secret! Do not share your secret API keys in publicly accessible areas such GitHub, client-side code, and so forth.
    Authentication to the API is performed via HTTP Basic Auth. Provide your API key as the basic auth username value. You do not need to provide a password.</p>

<p>All API requests must be made over HTTPS. Calls made over plain HTTP will fail. API requests without authentication will also fail.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>your email id</td>
</tr>
<tr>
<td>accessKey</td>
<td>your access key(you will get it from account settings-&gt;API</td>
</tr>
</tbody></table>
<h1 id='generic'>Generic</h1><h2 id='get-user-details'>Get User Details</h2><pre class="highlight shell tab-shell"><code>URL format:

curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "authToken"}'</span> &lt;Cloud URL&gt;/api/get_user_details

Ex: 
curl -H “Content-Type:application/json” -d ‘<span class="o">{</span>“token”:”swqkm7f55v39g9kkdggkzs”<span class="o">}</span>’ https://device.pcloudy.com/api/get_user_details
</code></pre><pre class="highlight java tab-java"><code><span class="n">UserDetailResult</span> <span class="n">userDetail</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getUserDetails</span><span class="o">(</span><span class="n">authToken</span><span class="o">);</span>
</code></pre>
<p>You can get the total account details like userId, email_id, username, account balance, etc., by passing the authtoken(this will get when authentication response).</p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>authToken</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
</tbody></table>
<h2 id='upload-app'>Upload App</h2><pre class="highlight shell tab-shell"><code>URL format:
    curl -X POST -F <span class="s2">"file=@/File_Path"</span> -F <span class="s2">"source_type=raw"</span> -F <span class="s2">"token=authToken"</span> -F <span class="s2">"filter=filter"</span> &lt;Cloud URL&gt;/api/upload_file
Ex:
    curl -X POST -F <span class="s2">"file=@/home/pratap/Downloads/pCloudy_Appium_Demo.apk"</span> -F <span class="s2">"source_type=raw"</span> -F <span class="s2">"token=swqkm7f55v39g9kkdggkzs"</span> -F <span class="s2">"filter=all"</span> https://device.pcloudy.com/api/upload_file
</code></pre><pre class="highlight java tab-java"><code><span class="n">PDriveFileDTO</span> <span class="n">uploadedApp</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">uploadApp</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">fileToUpload</span><span class="o">);</span>

</code></pre>
<p>You can upload the apps to pcloudy cloud drive by using upload api. You can upload any file to cloud drive. Uploaded files/apps are available in MY App/Data section.</p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>Path of uploaded apk or ipa file</td>
</tr>
<tr>
<td>source_type</td>
<td>Mention raw type(raw)</td>
</tr>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>filter</td>
<td>You can filter the file like apk or ipa when uploading(all/apk/ipa)</td>
</tr>
</tbody></table>
<h2 id='get-available-apps'>Get Available Apps</h2><pre class="highlight shell tab-shell"><code>URL Format:
    curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken","limit": limit, "filter": "all"}'</span> &lt;Cloud URL&gt;/api/drive
Ex:
    curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs","limit": 5, "filter": "all"}'</span> https://device.pcloudy.com/api/drive
</code></pre><pre class="highlight java tab-java"><code>
<span class="n">PDriveFileDTO</span><span class="o">[]</span> <span class="n">apps</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getAvailableApps</span><span class="o">(</span><span class="n">String</span> <span class="n">authToken</span><span class="o">);</span>
</code></pre>
<p>Get Available app will show you total files and apps what ever you uploaded in cloud drive.</p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>limit</td>
<td>How many files you want to display.</td>
</tr>
<tr>
<td>filter</td>
<td>It will filter the files and display based on filter option(all/apk/ipa).</td>
</tr>
</tbody></table>
<h2 id='download-file-from-cloud'>Download File From Cloud</h2><pre class="highlight shell tab-shell"><code>URL Format:

curl -O -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"TOKEN","filename":"FileName","dir":"data"}'</span> &lt;Cloud URL&gt;/api/download_file


Ex:
     curl -O -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs","filename":"pCloudy_Appium_Demo.apk","dir":"data"}'</span> https://device.pcloudy.com/api/download_file
</code></pre><pre class="highlight java tab-java"><code><span class="n">File</span> <span class="n">file</span><span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">downloadFileFromCloud</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="s">"pCloudy_Appium_Demo.apk"</span><span class="o">,</span> <span class="s">"data"</span><span class="o">);</span>
</code></pre>
<p>You can download files from cloud drive. This will download the apps into your system.</p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>filename</td>
<td>File name which you want to download</td>
</tr>
<tr>
<td>dir</td>
<td>Directory name(data).</td>
</tr>
</tbody></table>
<h2 id='get-device-list'>Get Device List</h2><pre class="highlight shell tab-shell"><code>URL Format:

curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ "token":"authToken","duration":10, "platform":"platform", "available_now":"true"}'</span> &lt;Cloud URL&gt;/api/device

Ex:
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ "token":"swqkm7f55v39g9kkdggkzs","duration":10, "platform":"android", "available_now":"true"}'</span> https://device.pcloudy.com/api/devices
</code></pre><pre class="highlight java tab-java"><code><span class="n">For</span> <span class="n">single</span> <span class="n">device</span> <span class="nl">selection:</span>
<span class="n">MobileDevice</span> <span class="n">selectedDevice</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">chooseSingleDevice</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="s">"Android"</span><span class="o">);</span>

<span class="n">For</span> <span class="n">Multiple</span> <span class="n">device</span> <span class="nl">selection:</span>

  <span class="n">List</span><span class="o">&lt;</span><span class="n">MobileDevice</span><span class="o">&gt;</span>   <span class="n">selectedDevices</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">chooseMultipleDevices</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="s">"android"</span><span class="o">);</span>
</code></pre>
<p>This api helps to get the available devices in pcloudy with total information about the each device. In the response each device is having the id which is used for booking the device.</p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>duration</td>
<td>Duration in minutes(How many minutes you want to the device).</td>
</tr>
<tr>
<td>platform</td>
<td>Which platform devices(android or ios) you want to display.</td>
</tr>
<tr>
<td>available_now</td>
<td>true or false. True means display the available devices and false means display all devices(including busy and available).</td>
</tr>
</tbody></table>
<h2 id='book-device'>Book Device</h2><pre class="highlight shell tab-shell"><code>URL Format:
    curl -H <span class="s1">'ContentType:application/json'</span> -d <span class="s1">'{"token":"authToken","duration":minutes, "id":device_id}'</span> &lt;Cloud URL&gt;/api/book_device

EX: curl -H <span class="s1">'ContentType:application/json'</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs","duration":5, "id":120}'</span> https://device.pcloudy.com/api/book_device
</code></pre><pre class="highlight java tab-java"><code><span class="n">BookingDtoResult</span> <span class="n">bookedDevice</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">bookDevice</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="n">selectedDevice</span><span class="o">);</span>
</code></pre>
<p>Book Device api book the device for your testing. For device booking you had to pass the authToken, how many minutes you want book and device id. Every device having the different id.</p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>duration</td>
<td>Duration in minutes(How many minutes you want to the device).</td>
</tr>
<tr>
<td>id</td>
<td>How many minutes you want to book the device.</td>
</tr>
</tbody></table>
<h2 id='get-device-page-url'>Get Device Page URL</h2><pre class="highlight shell tab-shell"><code>URL Format:
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "authToken","rid":"rid"}'</span> &lt;Cloud URL&gt;/api/get_device_url

Ex: 

curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "swqkm7f55v39g9kkdggkzs","rid":"482013"}'</span> https://device.pcloudy.com/api/get_device_url
</code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">devicePageURL</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getDevicePageUrl</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">);</span>
</code></pre>
<p>This will give you the device page url. By this url you can open the device screen directly in the browser. This helps you to connect to the device directly by passing the authToken and rid.</p>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response).</td>
</tr>
</tbody></table>
<h2 id='install-and-launch-app'>Install and Launch app</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "authToken", "rid": "rid", "filename": "filename", "grant_all_permissions":"true/false"}'</span> &lt;Cloud URL&gt;/api/install_app

Ex:

curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "swqkm7f55v39g9kkdggkzs", "rid": "482013", "filename": "pCloudy_Appium_Demo.apk", "grant_all_permissions":"true"}'</span> https://device.pcloudy.com/api/install_app
</code></pre><pre class="highlight java tab-java"><code><span class="n">InstallAndLaunchResultDto</span> <span class="n">result</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">installAndLaunchApp</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">,</span> <span class="n">uploadedApp</span><span class="o">);</span>
</code></pre>
<p>Install and launch api will install the app(apk/ipa) in the device and launch it on the device. App launch will work on Android devices, but in iOS device app will install but not launch(we are working on this).</p>
<h3 id='url-parameters-7'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>filename</td>
<td>app name(Need to mention apk/ipa file name which is available in cloud drive)</td>
</tr>
<tr>
<td>grant_all_permissions</td>
<td>true/false(This is provide permissions for app). This is optional.</td>
</tr>
</tbody></table>
<h2 id='execute-adb'>Execute ADB</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "authToken", "rid": "rid", "adbCommand": "adb Command"}'</span> &lt;Cloud URL&gt;/api/execute_adb 

Ex:
    curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "swqkm7f55v39g9kkdggkzs", "rid": "482013", "adbCommand": "adb shell getprop | grep model"}'</span> https://device.pcloudy.com/api/execute_adb
</code></pre><pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">adbdevices</span> <span class="o">=</span><span class="n">con</span><span class="o">.</span><span class="na">executeAdbCommand</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">,</span> <span class="s">"adb shell getprop | grep model"</span><span class="o">);</span>
</code></pre>
<p>This api help to execute the commands on the device. This api works only for Android devices.</p>
<h3 id='url-parameters-8'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>adbCommand</td>
<td>adb command which you want to execute on device.</td>
</tr>
</tbody></table>
<h2 id='release-device'>Release Device</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken","rid":"rid"}'</span> &lt;Cloud URL&gt;/api/release_device   

Ex:
    curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "swqkm7f55v39g9kkdggkzs", "rid": "482013"}'</span> https://device.pcloudy.com/api/release_devices
</code></pre><pre class="highlight java tab-java"><code><span class="n">con</span><span class="o">.</span><span class="na">releaseInstantAccessBooking</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">);</span>
</code></pre>
<p>This api help you to release the device.</p>
<h3 id='url-parameters-9'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
</tbody></table>
<h2 id='push-file'>Push File</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type:applicatio/json"</span> -d <span class="s1">'{"token":"authToken","rid":"RID","pDriveFile":"filename"}'</span> &lt;Cloud URL&gt;/api/pushFileToSwapBox 

Ex:
    curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "swqkm7f55v39g9kkdggkzs", "rid": "482013", "pDriveFile":"pCloudy_Appium_Demo.apk"}'</span> https://device.pcloudy.com/api/pushFileToSwapBox
</code></pre><pre class="highlight java tab-java"><code><span class="n">con</span><span class="o">.</span><span class="na">SwapboxAPIs</span><span class="o">().</span><span class="na">pushFile</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">,</span> <span class="n">uploadedApp</span><span class="o">);</span>
</code></pre>
<p>This api push the file or apk from Cloud Drive to the device swapBox.</p>
<h3 id='url-parameters-10'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>pDriveFile</td>
<td>File name which you want to push.</td>
</tr>
</tbody></table>
<h2 id='pull-file'>Pull File</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type:applicatio/json"</span> -d <span class="s1">'{"token":"TOKEN","rid":"RID","pDriveFile":"filename"}'</span> &lt;Cloud URL&gt;/api/pullFileFromDevice    

Ex:
    curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token": "swqkm7f55v39g9kkdggkzs", "rid": "482013", "pDriveFile":"pCloudy_Appium_Demo.apk"}'</span> https://device.pcloudy.com/api/pullFileFromDevice
</code></pre><pre class="highlight java tab-java"><code><span class="n">PDriveFileDTO</span> <span class="n">pDriveFile</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">SwapboxAPIs</span><span class="o">().</span><span class="na">pullFile</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">,</span> <span class="n">appPathInSwapbox</span><span class="o">);</span>

</code></pre>
<p>This api pull the file or apk from device swapBox to the cloud drive.</p>
<h3 id='url-parameters-11'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>pDriveFile</td>
<td>File name which you want to pull.</td>
</tr>
</tbody></table>
<h2 id='capture-device-screenshot'>Capture Device Screenshot</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken", "rid":"rid", "skin":"true"}'</span> &lt;Cloud URL&gt;/api/capture_device_screenshot
Ex:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs", "rid":"482013", "skin":"true"}'</span> https://device.pcloudy.com/api/capture_device_screenshot
</code></pre><pre class="highlight java tab-java"><code><span class="n">CaptureDeviceScreenshotResultDto</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">takeDeviceScreenshot</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">bookedDevice</span><span class="o">.</span><span class="na">rid</span><span class="o">),</span> <span class="kc">true</span><span class="o">);</span>

</code></pre>
<p>This api takes the screen shot of the device. This screenshot helps you to figure out the steps done by automation process.</p>
<h3 id='url-parameters-12'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>skin</td>
<td>true(Means take the screenshot).</td>
</tr>
</tbody></table>
<h2 id='start-performance-data'>Start Performance Data</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken", "rid":"rid", "pkg":"app package name"}'</span> &lt;Cloud URL&gt;/api/start_performance_data
Ex:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs", "rid":"482013", "pkg":"com.pcloudy.appiumdemo "}'</span> https://device.pcloudy.com/api/start_performance_data
</code></pre><pre class="highlight java tab-java"><code><span class="n">con</span><span class="o">.</span><span class="na">startPerformanceData</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">.</span><span class="na">rid</span><span class="o">,</span> <span class="n">install</span><span class="o">.</span><span class="na">packageName</span><span class="o">);</span>
</code></pre>
<p>This api help to start the performance data of the app under testing. In this you will get battery, CPU, memory, internet and framerendering data on android device and for iOS will get the CPU, memory and network pockets under testing on that device. This data is stored in cloud drive.</p>
<h3 id='url-parameters-13'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>pkg</td>
<td>App package name (will get from install and launch api response)</td>
</tr>
</tbody></table>
<h2 id='download-performance-data'>Download Performance Data</h2><pre class="highlight shell tab-shell"><code>URL format:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken", "rid":"rid", "filename":"fileName"}'</span> &lt;Cloud URL&gt;/api/download_manual_access_data
Ex:
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs", "rid":"482013", "filename":"filename"}'</span> https://device.pcloudy.com/api/download_manual_access_data
</code></pre><pre class="highlight java tab-java"><code><span class="n">PDriveFileDTO</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">cloudDriveFileList</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">.</span><span class="na">rid</span><span class="o">);</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">PDriveFileDTO</span> <span class="n">file</span> <span class="o">:</span> <span class="n">files</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">File</span> <span class="n">downloadedFile</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">downloadManualPerformanceData</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">bookedDevice</span><span class="o">.</span><span class="na">rid</span><span class="o">,</span> <span class="n">file</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
<p>This helps you to download the performance data which was stored in cloud drive.</p>
<h3 id='url-parameters-14'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>rid</td>
<td>Reservation id(will get from book device api response)</td>
</tr>
<tr>
<td>filename</td>
<td>performance file name.</td>
</tr>
</tbody></table>
<h1 id='automation'>Automation</h1><h2 id='book-devices-for-appium'>Book Devices For Appium</h2><pre class="highlight shell tab-shell"><code>URL format: 
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token":"authToken","duration":"duration","platform":"platform","devices":[deviceId1,deviceId2,---],"session":"sessionname","overwrite_location":"true"}'</span> &lt;Cloud URL&gt;/api/appium/init

Ex: 
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs","duration":"10","platform":"android","devices":[120,256],"session":"Sample session","overwrite_location":"true"}'</span> https://device.pcloudy.com/api/appium/init
</code></pre><pre class="highlight java tab-java"><code><span class="n">BookingDtoDevice</span><span class="o">[]</span> <span class="n">bookedDevices</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">AppiumApis</span><span class="o">().</span><span class="na">bookDevicesForAppium</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">selectedDevices</span><span class="o">,</span> <span class="n">BOOKINGDURATION</span><span class="o">,</span> <span class="n">sessionName</span><span class="o">);</span>
</code></pre>
<p>This api book the devices for appium execution.</p>
<h3 id='url-parameters-15'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>duration</td>
<td>duration in minutes you want to book the each device.</td>
</tr>
<tr>
<td>platform</td>
<td>on which flatform devices you want to book (android/ios).</td>
</tr>
<tr>
<td>devices</td>
<td>provide array of devices id&#39;s for multiple device booking.</td>
</tr>
<tr>
<td>session</td>
<td>Enter session name</td>
</tr>
<tr>
<td>overWrite_location</td>
<td>true</td>
</tr>
</tbody></table>
<h2 id='init-appiumhub-for-app'>Init AppiumHub for App</h2><pre class="highlight shell tab-shell"><code>URL format: 
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token":"authToken","app":"filename"}'</span> &lt;Cloud URL&gt;/api/appium/execute

Ex: 
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs","app":"pCloudy_Appium_Demo.apk"}'</span> https://device.pcloudy.com/api/appium/execute
</code></pre><pre class="highlight java tab-java"><code><span class="n">con</span><span class="o">.</span><span class="na">AppiumApis</span><span class="o">().</span><span class="na">initAppiumHubForApp</span><span class="o">(</span><span class="n">authToken</span><span class="o">,</span> <span class="n">alreadyUploadedApp</span><span class="o">);</span>
</code></pre>
<p>This initiates the appium on devices for that app. The app you had to upload by using upload api which is available in Generic api.</p>
<h3 id='url-parameters-16'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
<tr>
<td>app</td>
<td>provide app name on which app you want to test.</td>
</tr>
</tbody></table>
<h2 id='get-appium-endpoint'>Get Appium EndPoint</h2><pre class="highlight shell tab-shell"><code>URL format: 
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken"}'</span> &lt;Cloud URL&gt;/api/appium/endpoint

Ex: 
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs"}'</span> https://device.pcloudy.com/api/appium/endpoint
</code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">AppiumApis</span><span class="o">().</span><span class="na">getAppiumEndpoint</span><span class="o">(</span><span class="n">authToken</span><span class="o">);</span>
</code></pre>
<p>This get the appium Endpoint url.</p>
<h3 id='url-parameters-17'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
</tbody></table>
<h2 id='get-appium-report-folder'>Get Appium Report Folder</h2><pre class="highlight shell tab-shell"><code>URL format: 
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"authToken"}'</span> &lt;Cloud URL&gt;/api/appium/folder

Ex: 
curl -H <span class="s2">"Content-Type:application/json"</span> -d <span class="s1">'{"token":"swqkm7f55v39g9kkdggkzs"}'</span> https://device.pcloudy.com/api/appium/folder
</code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">reportFolderOnPCloudy</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">AppiumApis</span><span class="o">().</span><span class="na">getAppiumReportFolder</span><span class="o">(</span><span class="n">authToken</span><span class="o">);</span>
</code></pre>
<p>This gives you the report folder path. In the report you will get the total tests pass, failed and more information about test cases.</p>
<h3 id='url-parameters-18'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Authtoken(this will get from authenticate response)</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>pCloudy uses conventional HTTP response codes to indicate the success or failure of an API request. In general, codes in the 2xx range indicate success, codes in the 4xx range indicate an error that failed given the information provided(e.g., a required parameter was omitted, etc.), and codes in the 5xx range indicate an error with pCloudy’s servers(these are rare).</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok -- Everything worked as expected.</td>
</tr>
<tr>
<td>400</td>
<td>Bad request -- The request was unacceptable.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your email or API key is wrong.</td>
</tr>
<tr>
<td>402</td>
<td>Request failed -- The parameters were valid but request failed.</td>
</tr>
<tr>
<td>404</td>
<td>Not found -- The requested resource doesn’t exits.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="java">Java</a>
          </div>
      </div>
    </div>
  </body>
</html>
